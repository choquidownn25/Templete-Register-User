<div class="page-wrap h-full slate">
  <div class="session-form-hold">
    <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
    <mat-card>
      <mat-card-content>
        <div class="text-center pt-8 pb-16">
          <img width="60px" src="assets/images/egret.png" alt="">
          <p class="text-muted m-0">Sign in to your account</p>
        </div>
        <p *ngIf="errorMsg" class="text-center"><small class="text-red">{{errorMsg}}</small></p>
    
        <div class="col-md-12">
          <div class="card card-container">
            <img
              id="profile-img"
              src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
              class="profile-img-card"
            />
           
            <form
            *ngIf="!isLoggedIn"
            name="form"
            (ngSubmit)="f.form.valid && onSubmit()"
            #f="ngForm"
            novalidate
          >
            <div class="form-group">
              <label for="username">Username</label>
              <mat-form-field class="full-width">
                <input
                  matInput
                  name="username"
                  [(ngModel)]="form.username"
                  required
                  #username="ngModel"
                  placeholder="Username"
                  value="">
              </mat-form-field>
              <div
                class="alert alert-danger"
                role="alert"
                *ngIf="username.errors && f.submitted"
              >
                Username is required!
              </div>
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <mat-form-field class="full-width">
                <input matInput
                type="password"
                class="form-control"
                name="password"
                [(ngModel)]="form.password"
                required
                minlength="4"
                #password="ngModel"
              />
              </mat-form-field>
              
             
              <div
                class="alert alert-danger"
                role="alert"
                *ngIf="password.errors && f.submitted"
              >
                <div *ngIf="password.errors?.['required']">Password is required</div>
                <div *ngIf="password.errors?.['minlength']">
                  Password must be at least 6 characters
                </div>
                
              </div>
      
            </div>
            <div mat-dialog-actions>
              <button mat-raised-button color="primary">
                Login
              </button>
              <br>
              <span fxFlex></span>
              <div class="text-center">
                <a [routerLink]="'/sessions/forgot-password'" class="mat-primary text-center full-width">Forgot password</a>
                <span fxFlex></span>
                <br>
                <br>
                <span fxFlex></span>
                <a [routerLink]="'/signup'"class="mat-primary text-center full-width">Create a new account</a>
                
              </div>
            </div>
            <div class="form-group">
              <div
                class="alert alert-danger"
                role="alert"
                *ngIf="f.submitted && isLoginFailed"
              >
                Login failed: {{ errorMessage }}
              </div>
            </div>
          </form>
      
         <div class="alert alert-success" *ngIf="isLoggedIn">
            Logged in as {{ roles }}.
            
          </div>
           
          </div>
        </div>

      </mat-card-content>
    </mat-card>
  </div>
</div>


